<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ExplorArte - Cultura Global y Artesan√≠as</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;800&family=Playfair+Display:wght@700&display=swap" rel="stylesheet">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'mexican-pink': '#E4007C',
                        'marigold': '#F59E0B',
                        'talavera': '#1D4ED8',
                        'jade': '#059669',
                        'off-white': '#FDFBF7',
                        'art-blue': '#2563EB',
                        'art-purple': '#7C3AED'
                    },
                    fontFamily: {
                        sans: ['Montserrat', 'sans-serif'],
                        serif: ['Playfair Display', 'serif'],
                    }
                }
            }
        }
    </script>
    <style>
        .fade-in { animation: fadeIn 0.5s ease-in-out; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
       
        /* Estilo para los pines del mapa */
        .map-pin {
            transition: all 0.3s ease;
        }
        .map-pin:hover {
            transform: scale(1.2) translateY(-10px);
            z-index: 50;
        }
       
        /* Scrollbar personalizada */
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #f1f1f1; }
        ::-webkit-scrollbar-thumb { background: #E4007C; border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: #be0066; }


        /* Estilo para tarjetas de cursos */
        .course-card:hover .play-icon {
            transform: scale(1.1);
        }
    </style>
</head>
<body class="bg-off-white text-gray-800 font-sans min-h-screen flex flex-col">


    <!-- Navbar -->
    <nav class="bg-white shadow-lg sticky top-0 z-50 border-b-4 border-mexican-pink">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-20">
                <div class="flex items-center cursor-pointer" onclick="showSection('home')">
                    <!-- Icono Abstracto -->
                    <svg class="h-10 w-10 text-mexican-pink mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zm0 0h12a2 2 0 002-2v-4a2 2 0 00-2-2h-2.343M11 7.343l1.657-1.657a2 2 0 012.828 0l2.829 2.829a2 2 0 010 2.828l-8.486 8.485M7 17h.01" />
                    </svg>
                    <span class="font-serif text-2xl font-bold tracking-wide text-gray-900">Explor<span class="text-mexican-pink">Arte</span></span>
                </div>
               
                <!-- Men√∫ Desktop -->
                <div class="hidden md:flex items-center space-x-8">
                    <button onclick="showSection('quizzes')" class="hover:text-mexican-pink font-medium transition">Cuestionarios</button>
                    <button onclick="showSection('tutorials')" class="hover:text-mexican-pink font-medium transition">Tutoriales</button>
                    <button onclick="showSection('map')" class="hover:text-mexican-pink font-medium transition">Mapa</button>
                    <button onclick="showSection('shop')" class="hover:text-mexican-pink font-medium transition">Canjear</button>
                    <button onclick="showSection('events')" class="hover:text-mexican-pink font-medium transition">Agenda</button>
                   
                    <!-- Contador de Puntos -->
                    <div class="bg-gray-100 px-4 py-2 rounded-full flex items-center shadow-inner border border-gray-200">
                        <svg class="w-5 h-5 text-marigold mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"/>
                        </svg>
                        <span id="nav-points" class="font-bold text-gray-800">0 pts</span>
                    </div>
                </div>


                <!-- Bot√≥n Men√∫ M√≥vil -->
                <div class="md:hidden flex items-center">
                    <button onclick="toggleMobileMenu()" class="text-gray-600 hover:text-gray-900 focus:outline-none">
                        <svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
                        </svg>
                    </button>
                </div>
            </div>
        </div>
       
        <!-- Men√∫ M√≥vil (Oculto por defecto) -->
        <div id="mobile-menu" class="hidden md:hidden bg-white border-t border-gray-100 p-4">
            <button onclick="showSection('quizzes'); toggleMobileMenu()" class="block py-2 text-gray-700 font-medium">Cuestionarios</button>
            <button onclick="showSection('tutorials'); toggleMobileMenu()" class="block py-2 text-gray-700 font-medium">Tutoriales</button>
            <button onclick="showSection('map'); toggleMobileMenu()" class="block py-2 text-gray-700 font-medium">Mapa</button>
            <button onclick="showSection('shop'); toggleMobileMenu()" class="block py-2 text-gray-700 font-medium">Tienda</button>
            <button onclick="showSection('events'); toggleMobileMenu()" class="block py-2 text-gray-700 font-medium">Agenda</button>
        </div>
    </nav>


    <!-- Contenido Principal -->
    <main class="flex-grow container mx-auto px-4 py-8">


        <!-- SECCI√ìN: HOME -->
        <section id="home" class="fade-in block">
            <div class="text-center py-16 bg-gradient-to-r from-art-blue to-art-purple rounded-3xl shadow-2xl text-white mb-12 relative overflow-hidden">
                <div class="absolute inset-0 opacity-20 bg-[url('https://www.transparenttextures.com/patterns/az-subtle.png')]"></div>
                <div class="relative z-10 px-4">
                    <h1 class="text-5xl md:text-6xl font-serif font-bold mb-6">Arte Universal y Tradici√≥n</h1>
                    <p class="text-xl md:text-2xl mb-8 max-w-2xl mx-auto">Explora la historia del arte mundial, desde el Renacimiento hasta el Modernismo, y descubre la belleza de las artesan√≠as mexicanas.</p>
                    <div class="flex justify-center gap-4">
                        <button onclick="showSection('quizzes')" class="bg-white text-art-blue font-bold py-3 px-8 rounded-full shadow-lg hover:bg-gray-100 hover:scale-105 transition transform">
                            Empezar Retos
                        </button>
                        <button onclick="showSection('tutorials')" class="bg-transparent border-2 border-white text-white font-bold py-3 px-8 rounded-full hover:bg-white hover:text-art-purple transition transform">
                            Ver Tutoriales
                        </button>
                    </div>
                </div>
            </div>


            <!-- Categor√≠as Preview -->
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
                <!-- Card 1 -->
                <div class="bg-white rounded-xl shadow-md overflow-hidden hover:shadow-xl transition cursor-pointer" onclick="startQuiz('pintura')">
                    <div class="h-32 bg-indigo-500 flex items-center justify-center">
                        <svg class="w-12 h-12 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zm0 0h12a2 2 0 002-2v-4a2 2 0 00-2-2h-2.343M11 7.343l1.657-1.657a2 2 0 012.828 0l2.829 2.829a2 2 0 010 2.828l-8.486 8.485M7 17h.01" /></svg>
                    </div>
                    <div class="p-6 text-center">
                        <h3 class="font-bold text-xl mb-2">Pintura Universal</h3>
                        <p class="text-gray-500 text-sm">Da Vinci, Van Gogh, Dal√≠ y m√°s.</p>
                    </div>
                </div>
                <!-- Card 2 -->
                <div class="bg-white rounded-xl shadow-md overflow-hidden hover:shadow-xl transition cursor-pointer" onclick="startQuiz('musica')">
                    <div class="h-32 bg-marigold flex items-center justify-center">
                        <svg class="w-12 h-12 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19V6l12-3v13M9 19c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zm12-3c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zM9 10l12-3" /></svg>
                    </div>
                    <div class="p-6 text-center">
                        <h3 class="font-bold text-xl mb-2">Historia de la M√∫sica</h3>
                        <p class="text-gray-500 text-sm">Cl√°sica, Jazz y ritmos globales.</p>
                    </div>
                </div>
                <!-- Card 3 -->
                <div class="bg-white rounded-xl shadow-md overflow-hidden hover:shadow-xl transition cursor-pointer" onclick="startQuiz('escultura')">
                    <div class="h-32 bg-gray-600 flex items-center justify-center">
                        <svg class="w-12 h-12 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10" /></svg>
                    </div>
                    <div class="p-6 text-center">
                        <h3 class="font-bold text-xl mb-2">Escultura Mundial</h3>
                        <p class="text-gray-500 text-sm">De la Grecia Antigua al Renacimiento.</p>
                    </div>
                </div>
                <!-- Card 4 -->
                <div class="bg-white rounded-xl shadow-md overflow-hidden hover:shadow-xl transition cursor-pointer" onclick="startQuiz('artesanias')">
                    <div class="h-32 bg-mexican-pink flex items-center justify-center">
                        <svg class="w-12 h-12 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v13m0-13V6a2 2 0 112 2h-2zm0 0V5.5A2.5 2.5 0 109.5 8H12zm-7 4h14M5 12a2 2 0 110-4h14a2 2 0 110 4M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7" /></svg>
                    </div>
                    <div class="p-6 text-center">
                        <h3 class="font-bold text-xl mb-2">Artesan√≠as Mexicanas</h3>
                        <p class="text-gray-500 text-sm">Alebrijes, Talavera y Barro Negro.</p>
                    </div>
                </div>
            </div>
        </section>


        <!-- SECCI√ìN: CUESTIONARIOS -->
        <section id="quizzes" class="hidden fade-in">
            <div class="flex items-center justify-between mb-8">
                <h2 class="text-3xl font-serif font-bold text-gray-900">Zona de Desaf√≠os</h2>
                <button onclick="showSection('home')" class="text-sm text-gray-500 hover:text-mexican-pink flex items-center">
                    <svg class="w-4 h-4 mr-1" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18" /></svg>
                    Volver
                </button>
            </div>


            <!-- Selector de Categor√≠a (Visible si no hay quiz activo) -->
            <div id="quiz-selector" class="grid grid-cols-1 md:grid-cols-2 gap-8">
                <div onclick="startQuiz('pintura')" class="bg-white p-6 rounded-lg shadow-lg border-l-8 border-indigo-500 cursor-pointer hover:bg-indigo-50 transition group">
                    <h3 class="text-2xl font-bold mb-2 group-hover:text-indigo-600">üé® Pintura Universal</h3>
                    <p class="text-gray-600">Pon a prueba tu conocimiento sobre el Renacimiento, Impresionismo y m√°s.</p>
                    <div class="mt-4 text-sm font-bold text-indigo-500">Recompensa: 100 Puntos</div>
                </div>
                <div onclick="startQuiz('musica')" class="bg-white p-6 rounded-lg shadow-lg border-l-8 border-marigold cursor-pointer hover:bg-yellow-50 transition group">
                    <h3 class="text-2xl font-bold mb-2 group-hover:text-marigold">üéµ M√∫sica Cl√°sica y Moderna</h3>
                    <p class="text-gray-600">Compositores famosos y g√©neros que marcaron historia.</p>
                    <div class="mt-4 text-sm font-bold text-marigold">Recompensa: 100 Puntos</div>
                </div>
                <div onclick="startQuiz('escultura')" class="bg-white p-6 rounded-lg shadow-lg border-l-8 border-gray-600 cursor-pointer hover:bg-gray-50 transition group">
                    <h3 class="text-2xl font-bold mb-2 group-hover:text-gray-700">üóø Escultura e Historia</h3>
                    <p class="text-gray-600">Grandes monumentos y estatuas de la historia de la humanidad.</p>
                    <div class="mt-4 text-sm font-bold text-gray-600">Recompensa: 100 Puntos</div>
                </div>
                <div onclick="startQuiz('artesanias')" class="bg-white p-6 rounded-lg shadow-lg border-l-8 border-mexican-pink cursor-pointer hover:bg-pink-50 transition group">
                    <h3 class="text-2xl font-bold mb-2 group-hover:text-mexican-pink">üè∫ Artesan√≠as Mexicanas</h3>
                    <p class="text-gray-600">Identifica las t√©cnicas y regiones de nuestras tradiciones √∫nicas.</p>
                    <div class="mt-4 text-sm font-bold text-mexican-pink">Recompensa: 100 Puntos</div>
                </div>
            </div>


            <!-- Interfaz del Quiz Activo (Oculto por defecto) -->
            <div id="active-quiz" class="hidden max-w-2xl mx-auto bg-white rounded-xl shadow-2xl p-8 border border-gray-200">
                <div class="mb-4 flex justify-between items-center">
                    <span id="quiz-category-badge" class="bg-gray-200 text-gray-700 text-xs font-bold px-3 py-1 rounded-full uppercase">Categor√≠a</span>
                    <span id="quiz-progress" class="text-sm font-mono text-gray-500">Pregunta 1/3</span>
                </div>
               
                <h3 id="question-text" class="text-2xl font-bold mb-6 text-gray-800">¬øPregunta?</h3>
               
                <div id="options-container" class="space-y-3">
                    <!-- Opciones se generan con JS -->
                </div>


                <div id="feedback-area" class="mt-6 hidden p-4 rounded-lg bg-gray-50 text-center">
                    <p id="feedback-text" class="font-bold text-lg mb-2"></p>
                    <button id="next-btn" onclick="nextQuestion()" class="bg-gray-800 text-white px-6 py-2 rounded-lg hover:bg-gray-900">Siguiente</button>
                </div>
            </div>
        </section>


        <!-- SECCI√ìN: TUTORIALES (NUEVA) -->
        <section id="tutorials" class="hidden fade-in">
            <h2 class="text-3xl font-serif font-bold text-gray-900 mb-6">Aprende y Crea</h2>
            <p class="mb-8 text-gray-600">Accede a mini-cursos y tutoriales r√°pidos sobre historia del arte y creaci√≥n de artesan√≠as.</p>


            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                <!-- Curso 1 -->
                <div class="bg-white rounded-xl shadow-lg overflow-hidden course-card group cursor-pointer" onclick="alert('Iniciando curso: Acuarela B√°sica...')">
                    <div class="relative h-48 bg-blue-100 overflow-hidden">
                        <img src="https://images.unsplash.com/photo-1513364776144-60967b0f800f?auto=format&fit=crop&q=80&w=400" alt="Acuarela" class="w-full h-full object-cover transition transform group-hover:scale-110 duration-500">
                        <div class="absolute inset-0 bg-black bg-opacity-30 flex items-center justify-center">
                            <svg class="w-16 h-16 text-white opacity-80 play-icon transition duration-300" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z" clip-rule="evenodd"/></svg>
                        </div>
                        <span class="absolute top-2 right-2 bg-blue-600 text-white text-xs font-bold px-2 py-1 rounded">T√©cnica</span>
                    </div>
                    <div class="p-6">
                        <h3 class="font-bold text-xl mb-2">Introducci√≥n a la Acuarela</h3>
                        <p class="text-gray-500 text-sm mb-4">Aprende a controlar el agua y el pigmento en 5 lecciones.</p>
                        <div class="flex items-center text-sm text-gray-400">
                            <svg class="w-4 h-4 mr-1" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>
                            <span>45 mins</span>
                        </div>
                    </div>
                </div>


                <!-- Curso 2 -->
                <div class="bg-white rounded-xl shadow-lg overflow-hidden course-card group cursor-pointer" onclick="alert('Iniciando curso: Historia de Van Gogh...')">
                    <div class="relative h-48 bg-yellow-100 overflow-hidden">
                        <img src="https://images.unsplash.com/photo-1578301978693-85ea9c0b3d47?auto=format&fit=crop&q=80&w=400" alt="Van Gogh" class="w-full h-full object-cover transition transform group-hover:scale-110 duration-500">
                        <div class="absolute inset-0 bg-black bg-opacity-30 flex items-center justify-center">
                            <svg class="w-16 h-16 text-white opacity-80 play-icon transition duration-300" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z" clip-rule="evenodd"/></svg>
                        </div>
                        <span class="absolute top-2 right-2 bg-purple-600 text-white text-xs font-bold px-2 py-1 rounded">Historia</span>
                    </div>
                    <div class="p-6">
                        <h3 class="font-bold text-xl mb-2">La Vida de Van Gogh</h3>
                        <p class="text-gray-500 text-sm mb-4">Un viaje por el postimpresionismo y la noche estrellada.</p>
                        <div class="flex items-center text-sm text-gray-400">
                            <svg class="w-4 h-4 mr-1" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>
                            <span>30 mins</span>
                        </div>
                    </div>
                </div>


                <!-- Curso 3 -->
                <div class="bg-white rounded-xl shadow-lg overflow-hidden course-card group cursor-pointer" onclick="alert('Iniciando tutorial: Alebrijes...')">
                    <div class="relative h-48 bg-pink-100 overflow-hidden">
                        <img src="https://images.unsplash.com/photo-1518063319789-7217e6706b04?auto=format&fit=crop&q=80&w=400" alt="Alebrijes" class="w-full h-full object-cover transition transform group-hover:scale-110 duration-500">
                        <div class="absolute inset-0 bg-black bg-opacity-30 flex items-center justify-center">
                            <svg class="w-16 h-16 text-white opacity-80 play-icon transition duration-300" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z" clip-rule="evenodd"/></svg>
                        </div>
                        <span class="absolute top-2 right-2 bg-mexican-pink text-white text-xs font-bold px-2 py-1 rounded">Artesan√≠a</span>
                    </div>
                    <div class="p-6">
                        <h3 class="font-bold text-xl mb-2">Crea tu propio Alebrije</h3>
                        <p class="text-gray-500 text-sm mb-4">Tutorial paso a paso usando cartoner√≠a y pintura acr√≠lica.</p>
                        <div class="flex items-center text-sm text-gray-400">
                            <svg class="w-4 h-4 mr-1" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>
                            <span>1 hora</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>


        <!-- SECCI√ìN: MAPA -->
        <section id="map" class="hidden fade-in">
            <h2 class="text-3xl font-serif font-bold text-gray-900 mb-6">Mapa Cultural</h2>
            <p class="mb-6 text-gray-600">Explora los museos cercanos donde puedes canjear tus puntos. Haz clic en los pines para ver detalles.</p>
           
            <!-- Simulador de Mapa -->
            <div class="relative w-full h-[500px] bg-blue-50 rounded-xl overflow-hidden shadow-inner border-2 border-gray-200 group">
                <!-- Fondo de mapa estilo vector -->
                <div class="absolute inset-0 opacity-40" style="background-image: radial-gradient(#cbd5e1 1px, transparent 1px); background-size: 20px 20px;"></div>
               
                <!-- "Calles" dibujadas con CSS para simular mapa -->
                <div class="absolute top-1/2 left-0 w-full h-4 bg-white rotate-3"></div>
                <div class="absolute top-0 left-1/3 w-4 h-full bg-white rotate-12"></div>
                <div class="absolute top-1/4 left-0 w-full h-8 bg-gray-200 -rotate-6"></div>


                <!-- PIN 1: Bellas Artes -->
                <div class="absolute top-[30%] left-[40%] map-pin group/pin" onclick="openMapModal('Palacio de Bellas Artes', 'Av. Ju√°rez S/N, Centro Hist√≥rico', 'Lunes a Domingo, 10am - 5pm')">
                    <div class="relative">
                        <svg class="w-10 h-10 text-mexican-pink drop-shadow-lg cursor-pointer" fill="currentColor" viewBox="0 0 24 24"><path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"/></svg>
                        <div class="absolute -bottom-8 left-1/2 transform -translate-x-1/2 bg-black text-white text-xs py-1 px-2 rounded opacity-0 group-hover/pin:opacity-100 transition whitespace-nowrap z-50 pointer-events-none">Bellas Artes</div>
                    </div>
                </div>


                <!-- PIN 2: Museo Soumaya -->
                <div class="absolute top-[60%] left-[20%] map-pin group/pin" onclick="openMapModal('Museo Soumaya', 'Blvd. Miguel de Cervantes Saavedra', 'Lunes a Domingo, 10:30am - 6:30pm')">
                    <div class="relative">
                        <svg class="w-10 h-10 text-talavera drop-shadow-lg cursor-pointer" fill="currentColor" viewBox="0 0 24 24"><path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"/></svg>
                        <div class="absolute -bottom-8 left-1/2 transform -translate-x-1/2 bg-black text-white text-xs py-1 px-2 rounded opacity-0 group-hover/pin:opacity-100 transition whitespace-nowrap z-50 pointer-events-none">Soumaya</div>
                    </div>
                </div>


                 <!-- PIN 3: Museo Frida Kahlo -->
                 <div class="absolute top-[50%] left-[70%] map-pin group/pin" onclick="openMapModal('Museo Frida Kahlo', 'Londres 247, Del Carmen', 'Martes a Domingo, 10am - 6pm')">
                    <div class="relative">
                        <svg class="w-10 h-10 text-jade drop-shadow-lg cursor-pointer" fill="currentColor" viewBox="0 0 24 24"><path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"/></svg>
                        <div class="absolute -bottom-8 left-1/2 transform -translate-x-1/2 bg-black text-white text-xs py-1 px-2 rounded opacity-0 group-hover/pin:opacity-100 transition whitespace-nowrap z-50 pointer-events-none">Casa Azul</div>
                    </div>
                </div>
            </div>
        </section>


        <!-- SECCI√ìN: TIENDA / RECOMPENSAS -->
        <section id="shop" class="hidden fade-in">
            <div class="text-center mb-10">
                <h2 class="text-3xl font-serif font-bold text-gray-900">Canje de Puntos</h2>
                <p class="text-gray-600">Utiliza tus puntos de conocimiento para obtener beneficios reales.</p>
                <div class="mt-4 inline-block bg-marigold text-white px-6 py-2 rounded-full font-bold shadow-lg">
                    Tus Puntos: <span id="shop-points-display">0</span>
                </div>
            </div>


            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <!-- Item 1 -->
                <div class="bg-white rounded-xl shadow-lg overflow-hidden border border-gray-100">
                    <div class="h-40 bg-gray-200 flex items-center justify-center bg-[url('https://images.unsplash.com/photo-1554907984-15263bfd63bd?auto=format&fit=crop&q=80&w=300')] bg-cover">
                        <div class="bg-black bg-opacity-40 w-full h-full flex items-center justify-center">
                            <span class="text-white font-bold text-lg">2x1 Museos</span>
                        </div>
                    </div>
                    <div class="p-6">
                        <h3 class="font-bold text-lg mb-2">Pase Doble - Bellas Artes</h3>
                        <p class="text-gray-500 text-sm mb-4">Acceso a exposiciones temporales.</p>
                        <div class="flex justify-between items-center">
                            <span class="text-marigold font-bold">200 Puntos</span>
                            <button onclick="redeemItem(200, 'Pase Doble Bellas Artes')" class="bg-gray-800 text-white px-4 py-2 rounded-lg text-sm hover:bg-mexican-pink transition">Canjear</button>
                        </div>
                    </div>
                </div>


                <!-- Item 2 -->
                <div class="bg-white rounded-xl shadow-lg overflow-hidden border border-gray-100">
                    <div class="h-40 bg-gray-200 flex items-center justify-center bg-[url('https://images.unsplash.com/photo-1515405295579-ba7f9f92f413?auto=format&fit=crop&q=80&w=300')] bg-cover">
                        <div class="bg-black bg-opacity-40 w-full h-full flex items-center justify-center">
                            <span class="text-white font-bold text-lg">Descuento Tienda</span>
                        </div>
                    </div>
                    <div class="p-6">
                        <h3 class="font-bold text-lg mb-2">15% en Librer√≠as Gandhi</h3>
                        <p class="text-gray-500 text-sm mb-4">V√°lido en secci√≥n de arte.</p>
                        <div class="flex justify-between items-center">
                            <span class="text-marigold font-bold">150 Puntos</span>
                            <button onclick="redeemItem(150, 'Cup√≥n Librer√≠a')" class="bg-gray-800 text-white px-4 py-2 rounded-lg text-sm hover:bg-mexican-pink transition">Canjear</button>
                        </div>
                    </div>
                </div>


                <!-- Item 3 -->
                <div class="bg-white rounded-xl shadow-lg overflow-hidden border border-gray-100">
                    <div class="h-40 bg-gray-200 flex items-center justify-center bg-[url('https://images.unsplash.com/photo-1569407228235-9a640e323485?auto=format&fit=crop&q=80&w=300')] bg-cover">
                        <div class="bg-black bg-opacity-40 w-full h-full flex items-center justify-center">
                            <span class="text-white font-bold text-lg">Taller Artesanal</span>
                        </div>
                    </div>
                    <div class="p-6">
                        <h3 class="font-bold text-lg mb-2">Clase de Barro Gratis</h3>
                        <p class="text-gray-500 text-sm mb-4">Impartida por artesanos locales.</p>
                        <div class="flex justify-between items-center">
                            <span class="text-marigold font-bold">300 Puntos</span>
                            <button onclick="redeemItem(300, 'Clase de Barro')" class="bg-gray-800 text-white px-4 py-2 rounded-lg text-sm hover:bg-mexican-pink transition">Canjear</button>
                        </div>
                    </div>
                </div>
            </div>
        </section>


        <!-- SECCI√ìN: AGENDA / EXTRA -->
        <section id="events" class="hidden fade-in">
            <h2 class="text-3xl font-serif font-bold text-gray-900 mb-6">Agenda Cultural</h2>
            <div class="bg-white rounded-xl shadow-lg p-6 flex flex-col md:flex-row items-start md:items-center mb-4">
                <div class="bg-mexican-pink text-white rounded-lg p-4 text-center mr-6 w-full md:w-24 mb-4 md:mb-0">
                    <span class="block text-3xl font-bold">15</span>
                    <span class="block text-sm uppercase">OCT</span>
                </div>
                <div>
                    <h3 class="text-xl font-bold text-gray-800">Noche de Museos</h3>
                    <p class="text-gray-600 mb-2">Recorrido nocturno por el Centro Hist√≥rico con gu√≠as especializados.</p>
                    <span class="inline-block bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded-full font-bold">Gratuito</span>
                </div>
            </div>
             <div class="bg-white rounded-xl shadow-lg p-6 flex flex-col md:flex-row items-start md:items-center">
                <div class="bg-talavera text-white rounded-lg p-4 text-center mr-6 w-full md:w-24 mb-4 md:mb-0">
                    <span class="block text-3xl font-bold">02</span>
                    <span class="block text-sm uppercase">NOV</span>
                </div>
                <div>
                    <h3 class="text-xl font-bold text-gray-800">Desfile de Alebrijes</h3>
                    <p class="text-gray-600 mb-2">Exhibici√≥n monumental en Reforma y concurso de artesanos.</p>
                    <span class="inline-block bg-green-100 text-green-800 text-xs px-2 py-1 rounded-full font-bold">Familiar</span>
                </div>
            </div>
        </section>


    </main>


    <!-- Footer -->
    <footer class="bg-gray-900 text-white py-8 mt-12">
        <div class="container mx-auto px-4 text-center">
            <h3 class="font-serif text-2xl font-bold mb-4">ExplorArte</h3>
            <p class="text-gray-400 text-sm mb-4">Conectando la historia con el presente.</p>
            <p class="text-gray-600 text-xs">&copy; 2023 ExplorArte M√©xico. Demo Educativa.</p>
        </div>
    </footer>


    <!-- MODAL PARA INFO DEL MUSEO -->
    <div id="modal-map" class="fixed inset-0 bg-black bg-opacity-50 hidden flex items-center justify-center z-[100] p-4">
        <div class="bg-white rounded-xl shadow-2xl max-w-sm w-full p-6 transform transition-all scale-100">
            <h3 id="modal-title" class="text-2xl font-bold text-gray-900 mb-2">T√≠tulo</h3>
            <p class="text-sm text-gray-500 mb-4 uppercase tracking-wide">Ubicaci√≥n</p>
            <p id="modal-address" class="text-gray-700 mb-2 font-medium">Direcci√≥n...</p>
            <p id="modal-hours" class="text-gray-600 mb-6 text-sm">Horario...</p>
            <div class="flex justify-end">
                <button onclick="closeModal()" class="bg-mexican-pink text-white px-4 py-2 rounded-lg hover:bg-pink-700">Cerrar</button>
            </div>
        </div>
    </div>


    <script>
        // --- ESTADO DE LA APLICACI√ìN ---
        let points = 0;
        let currentQuiz = null;
        let currentQuestionIndex = 0;
        let currentScore = 0;


        // --- DATOS DE CUESTIONARIOS ---
        // Actualizados para incluir Arte Universal, manteniendo Artesan√≠as Mexicanas
        const quizzesData = {
            'pintura': {
                title: "Pintura Universal",
                questions: [
                    { q: "¬øQui√©n pint√≥ 'La Mona Lisa'?", options: ["Vincent van Gogh", "Leonardo da Vinci", "Pablo Picasso"], answer: 1 },
                    { q: "¬øQui√©n pint√≥ 'La Noche Estrellada'?", options: ["Claude Monet", "Salvador Dal√≠", "Vincent van Gogh"], answer: 2 },
                    { q: "¬øQu√© pintora mexicana es famosa por sus autorretratos?", options: ["Frida Kahlo", "Remedios Varo", "Leonora Carrington"], answer: 0 },
                    { q: "¬øQui√©n pint√≥ 'El Guernica'?", options: ["Pablo Picasso", "Diego Rivera", "Francisco Goya"], answer: 0 },
                    { q: "¬øQu√© estilo representa Salvador Dal√≠?", options: ["Impresionismo", "Surrealismo", "Realismo"], answer: 1 }
                ]
            },
            'musica': {
                title: "M√∫sica Universal",
                questions: [
                    { q: "¬øQui√©n compuso la 5ta Sinfon√≠a?", options: ["Mozart", "Beethoven", "Bach"], answer: 1 },
                    { q: "¬øQu√© banda de rock es famosa por 'Yellow Submarine'?", options: ["Rolling Stones", "The Beatles", "Queen"], answer: 1 },
                    { q: "¬øQu√© g√©nero musical es Patrimonio Inmaterial de M√©xico?", options: ["Tango", "Mariachi", "Jazz"], answer: 1 },
                    { q: "¬øQui√©n es conocido como el 'Rey del Pop'?", options: ["Elvis Presley", "Michael Jackson", "Prince"], answer: 1 },
                    { q: "¬øCu√°ntas cuerdas tiene un viol√≠n est√°ndar?", options: ["6", "5", "4"], answer: 2 }
                ]
            },
            'escultura': {
                title: "Escultura Mundial",
                questions: [
                    { q: "¬øQui√©n esculpi√≥ el 'David'?", options: ["Donatello", "Miguel √Ångel", "Bernini"], answer: 1 },
                    { q: "¬øD√≥nde se encuentra la Gran Esfinge?", options: ["Grecia", "Egipto", "Roma"], answer: 1 },
                    { q: "¬øQu√© cultura mexicana esculpi√≥ las Cabezas Colosales?", options: ["Azteca", "Maya", "Olmeca"], answer: 2 },
                    { q: "¬øQui√©n esculpi√≥ 'El Pensador'?", options: ["Auguste Rodin", "Miguel √Ångel", "Gian Lorenzo Bernini"], answer: 0 },
                    { q: "¬øDe qu√© material est√° hecha principalmente la Estatua de la Libertad?", options: ["Oro", "Cobre", "Acero Inoxidable"], answer: 1 }
                ]
            },
            'artesanias': {
                title: "Artesan√≠as Mexicanas",
                questions: [
                    { q: "¬øDe qu√© estado es originario el Barro Negro?", options: ["Oaxaca", "Jalisco", "Michoac√°n"], answer: 0 },
                    { q: "¬øQu√© son los Alebrijes?", options: ["Comida t√≠pica", "Figuras fant√°sticas", "Ropa tradicional"], answer: 1 },
                    { q: "¬øQu√© material distingue a la Talavera de Puebla?", options: ["Madera", "Cer√°mica vidriada", "Vidrio soplado"], answer: 1 },
                    { q: "¬øQu√© ciudad de Guerrero es famosa por su plater√≠a?", options: ["Acapulco", "Taxco", "Ixtapa"], answer: 1 },
                    { q: "¬øQu√© textil es originario de Saltillo, Coahuila?", options: ["El Sarape", "El Rebozo", "El Huipil"], answer: 0 }
                ]
            }
        };


        // --- FUNCIONES DE NAVEGACI√ìN ---
        function showSection(sectionId) {
            // Ocultar todas las secciones
            document.querySelectorAll('main > section').forEach(el => el.classList.add('hidden'));
            // Mostrar la seleccionada
            document.getElementById(sectionId).classList.remove('hidden');
           
            // Actualizar vista de puntos si estamos en tienda
            if(sectionId === 'shop') {
                document.getElementById('shop-points-display').innerText = points;
            }
            window.scrollTo(0,0);
        }


        function toggleMobileMenu() {
            document.getElementById('mobile-menu').classList.toggle('hidden');
        }


        // --- L√ìGICA DE QUIZ ---
        function startQuiz(category) {
            // Asegurar que la secci√≥n de quizzes sea visible para la redirecci√≥n desde Home
            showSection('quizzes');


            currentQuiz = quizzesData[category];
            currentQuestionIndex = 0;
            currentScore = 0;


            // UI Changes
            document.getElementById('quiz-selector').classList.add('hidden');
            document.getElementById('active-quiz').classList.remove('hidden');
            document.getElementById('quiz-category-badge').innerText = currentQuiz.title;
           
            loadQuestion();
        }


        function loadQuestion() {
            const qData = currentQuiz.questions[currentQuestionIndex];
           
            document.getElementById('question-text').innerText = qData.q;
            document.getElementById('quiz-progress').innerText = `Pregunta ${currentQuestionIndex + 1}/${currentQuiz.questions.length}`;
           
            const optionsContainer = document.getElementById('options-container');
            optionsContainer.innerHTML = ''; // Limpiar anteriores


            qData.options.forEach((opt, index) => {
                const btn = document.createElement('button');
                btn.className = "w-full text-left p-4 rounded-lg border border-gray-300 hover:bg-gray-100 transition focus:outline-none";
                btn.innerText = opt;
                btn.onclick = () => checkAnswer(index, btn);
                optionsContainer.appendChild(btn);
            });


            // Ocultar feedback
            document.getElementById('feedback-area').classList.add('hidden');
        }


        function checkAnswer(selectedIndex, btnElement) {
            const correctIndex = currentQuiz.questions[currentQuestionIndex].answer;
            const feedbackText = document.getElementById('feedback-text');
            const feedbackArea = document.getElementById('feedback-area');
            const allBtns = document.getElementById('options-container').children;


            // Deshabilitar botones
            for(let btn of allBtns) { btn.disabled = true; }


            if(selectedIndex === correctIndex) {
                currentScore++;
                btnElement.classList.remove('hover:bg-gray-100');
                btnElement.classList.add('bg-green-100', 'border-green-500', 'text-green-800');
                feedbackText.innerText = "¬°Correcto! üéâ";
                feedbackText.className = "font-bold text-lg mb-2 text-green-600";
            } else {
                btnElement.classList.remove('hover:bg-gray-100');
                btnElement.classList.add('bg-red-100', 'border-red-500', 'text-red-800');
                // Resaltar la correcta
                allBtns[correctIndex].classList.add('bg-green-100', 'border-green-500');
                feedbackText.innerText = "Incorrecto. La respuesta era: " + currentQuiz.questions[currentQuestionIndex].options[correctIndex];
                feedbackText.className = "font-bold text-lg mb-2 text-red-600";
            }


            feedbackArea.classList.remove('hidden');
        }


        function nextQuestion() {
            currentQuestionIndex++;
            if(currentQuestionIndex < currentQuiz.questions.length) {
                loadQuestion();
            } else {
                finishQuiz();
            }
        }


        function finishQuiz() {
            // Calcular puntos (ej. 33 puntos por respuesta correcta aprox, para llegar a 100)
            const pointsEarned = Math.round((currentScore / currentQuiz.questions.length) * 100);
            points += pointsEarned;
            updatePointsDisplay();


            alert(`¬°Quiz terminado! Obtuviste ${currentScore} de ${currentQuiz.questions.length} correctas.\nHas ganado ${pointsEarned} puntos.`);


            // Reset UI
            document.getElementById('active-quiz').classList.add('hidden');
            document.getElementById('quiz-selector').classList.remove('hidden');
            showSection('quizzes'); // Refrescar vista
        }


        function updatePointsDisplay() {
            document.getElementById('nav-points').innerText = `${points} pts`;
            document.getElementById('shop-points-display').innerText = points;
        }


        // --- L√ìGICA DE TIENDA ---
        function redeemItem(cost, itemName) {
            if(points >= cost) {
                points -= cost;
                updatePointsDisplay();
                alert(`¬°Felicidades! Has canjeado "${itemName}".\nTu c√≥digo QR ha sido enviado a tu perfil.`);
            } else {
                alert(`Lo sentimos, necesitas ${cost} puntos para canjear esto.\nActualmente tienes ${points} puntos.`);
            }
        }


        // --- L√ìGICA DEL MAPA (MODALES) ---
        function openMapModal(title, address, hours) {
            document.getElementById('modal-title').innerText = title;
            document.getElementById('modal-address').innerText = address;
            document.getElementById('modal-hours').innerText = hours;
            document.getElementById('modal-map').classList.remove('hidden');
        }


        function closeModal() {
            document.getElementById('modal-map').classList.add('hidden');
        }


        // Cerrar modal al hacer click fuera
        window.onclick = function(event) {
            const modal = document.getElementById('modal-map');
            if (event.target == modal) {
                closeModal();
            }
        }
    </script>
</body>
</html>
